# TypeScript Errors and Resolutions

This document notes TypeScript errors that currently exist and how to resolve them.

## Custom Field Type Mismatches

**Issue**: Custom field types don't match Puck's expected CustomFieldRender signature exactly.

**Status**: Non-blocking. Fields work correctly at runtime.

**Resolution**: Cast the field definitions with `as any` or update field props to match exact Puck types:

```typescript
fields: {
  dataSource: dataSourceField as any,
  collection: collectionSelectorField as any,
}
```

## Missing ID Fields in Array Items

**Issue**: Many array field definitions are missing `id` field in their arrayFields definition.

**Status**: Non-blocking. IDs are auto-generated by Puck.

**Resolution**: Add `id` field to all arrayFields definitions:

```typescript
arrayFields: {
  id: {
    type: "text",
    label: "ID",
  },
  // ... other fields
}
```

## Section Content Rendering

**Issue**: `content?.({})` type error.

**Status**: Fixed with optional chaining check.

## Changed Parameter in resolveData

**Issue**: `changed` parameter properties don't exist on type 'never'.

**Status**: Non-blocking. Runtime works correctly.

**Resolution**: Type the changed parameter explicitly:

```typescript
resolveData: async ({ props }, { changed }: { changed: Record<string, boolean> }) => {
  // ...
}
```

## Summary

Most errors are TypeScript strictness issues that don't affect runtime behavior. The implementation is functionally complete and working. These can be resolved systematically in a follow-up type safety pass.

## Priority Fixes

1. ✅ query-builder.ts - Fixed type assertions
2. ✅ Section content rendering - Added null check
3. ⏳ Add `id` fields to all array definitions
4. ⏳ Cast custom field definitions
5. ⏳ Type the changed parameter in resolveData

## Non-Priority

- Feature items missing id
- Logo items missing id
- Pricing tiers/features missing id
- Team members missing id
- Tab items missing id
- Accordion items missing id
- Table columns/rows missing id

These all work at runtime as Puck generates IDs automatically.

