---
title: Project Structure
description: Understand the monorepo structure, file organization, and naming conventions used in MON.
---

import { Callout } from 'components/callout';
import { FileTree, FileTreeItem } from 'components/file-tree';

# Project Structure

This guide explains how the BISO Sites monorepo is organized, including directory structures, naming conventions, and the purpose of each major file and folder.

## Monorepo Overview

MON uses **Turborepo** to manage a monorepo with multiple applications and shared packages. This allows code sharing, consistent tooling, and atomic commits across all projects.

```
mon/
â”œâ”€â”€ apps/              # Applications (Next.js apps)
â”œâ”€â”€ packages/          # Shared packages
â”œâ”€â”€ node_modules/      # Root dependencies
â”œâ”€â”€ package.json       # Root workspace configuration
â”œâ”€â”€ turbo.json         # Turborepo pipeline configuration
â””â”€â”€ bun.lock          # Dependency lockfile
```

## Root Level Files

### Configuration Files

| File | Purpose |
|------|---------|
| `package.json` | Root workspace config, defines scripts and workspaces |
| `turbo.json` | Turborepo task pipeline and caching configuration |
| `bun.lock` | Lockfile for exact dependency versions |
| `.gitignore` | Files and directories to exclude from Git |

### Documentation Files

| File | Purpose |
|------|---------|
| `README.md` | Project overview (originally Turborepo template) |
| `AGENTS.md` | Repository guidelines for AI agents and developers |
| `ARCHITECTURE_REFACTOR.md` | Documentation of architectural changes |
| `DOCS_PROGRESS.md` | Track documentation completion |

### Quality & Configuration

| File | Purpose |
|------|---------|
| `knip.json` | Configuration for unused code detection |
| `.editorconfig` | Editor configuration for consistent formatting |

## Applications (`apps/`)

Each application is a standalone Next.js 15 app with the App Router.

### Web App (`apps/web/`)

The public-facing website accessible to users.

<FileTree>
  <FileTreeItem name="apps/web/" icon="ğŸ“">
    <FileTreeItem name="src/" icon="ğŸ“" depth={1}>
      <FileTreeItem name="app/" icon="ğŸ“" depth={2}>
        <FileTreeItem name="(routes)/" icon="ğŸ“" depth={3} />
        <FileTreeItem name="actions/" icon="ğŸ“" depth={3} />
        <FileTreeItem name="api/" icon="ğŸ“" depth={3} />
        <FileTreeItem name="layout.tsx" icon="ğŸ“„" depth={3} />
        <FileTreeItem name="page.tsx" icon="ğŸ“„" depth={3} />
      </FileTreeItem>
      <FileTreeItem name="components/" icon="ğŸ“" depth={2} />
      <FileTreeItem name="lib/" icon="ğŸ“" depth={2} />
      <FileTreeItem name="i18n/" icon="ğŸ“" depth={2} />
    </FileTreeItem>
    <FileTreeItem name="public/" icon="ğŸ“" depth={1}>
      <FileTreeItem name="images/" icon="ğŸ“" depth={2} />
    </FileTreeItem>
    <FileTreeItem name="messages/" icon="ğŸ“" depth={1}>
      <FileTreeItem name="en/" icon="ğŸ“" depth={2} />
      <FileTreeItem name="no/" icon="ğŸ“" depth={2} />
    </FileTreeItem>
    <FileTreeItem name="package.json" icon="âš™ï¸" depth={1} />
    <FileTreeItem name="next.config.ts" icon="âš™ï¸" depth={1} />
    <FileTreeItem name="tailwind.config.cjs" icon="âš™ï¸" depth={1} />
    <FileTreeItem name="tsconfig.json" icon="âš™ï¸" depth={1} />
  </FileTreeItem>
</FileTree>

**Key Directories:**
- `src/app/` - Next.js App Router routes and layouts
- `src/components/` - React components specific to web
- `src/lib/` - Utility functions and helpers
- `src/i18n/` - i18n configuration
- `messages/` - Translation files for next-intl
- `public/` - Static assets (images, fonts, etc.)

**Port:** 3000

### Admin App (`apps/admin/`)

Content management system for managing website content.

<FileTree>
  <FileTreeItem name="apps/admin/" icon="ğŸ“">
    <FileTreeItem name="src/" icon="ğŸ“" depth={1}>
      <FileTreeItem name="app/" icon="ğŸ“" depth={2}>
        <FileTreeItem name="(admin)/" icon="ğŸ“" depth={3}>
          <FileTreeItem name="admin/" icon="ğŸ“" depth={4}>
            <FileTreeItem name="pages/" icon="ğŸ“" depth={5} />
            <FileTreeItem name="posts/" icon="ğŸ“" depth={5} />
            <FileTreeItem name="users/" icon="ğŸ“" depth={5} />
          </FileTreeItem>
        </FileTreeItem>
        <FileTreeItem name="(auth)/" icon="ğŸ“" depth={3} />
        <FileTreeItem name="(protected)/" icon="ğŸ“" depth={3} />
        <FileTreeItem name="actions/" icon="ğŸ“" depth={3} />
        <FileTreeItem name="api/" icon="ğŸ“" depth={3} />
      </FileTreeItem>
      <FileTreeItem name="components/" icon="ğŸ“" depth={2} />
      <FileTreeItem name="lib/" icon="ğŸ“" depth={2} />
    </FileTreeItem>
    <FileTreeItem name="messages/" icon="ğŸ“" depth={1} />
    <FileTreeItem name="public/" icon="ğŸ“" depth={1} />
    <FileTreeItem name="package.json" icon="âš™ï¸" depth={1} />
  </FileTreeItem>
</FileTree>

**Key Features:**
- Page builder integration (Puck editor)
- User management
- Content creation and editing
- Media management
- Role-based access control

**Port:** 3001

### Docs App (`apps/docs/`)

This documentation site built with Fumadocs.

<FileTree>
  <FileTreeItem name="apps/docs/" icon="ğŸ“">
    <FileTreeItem name="app/" icon="ğŸ“" depth={1}>
      <FileTreeItem name="docs/" icon="ğŸ“" depth={2}>
        <FileTreeItem name="[...slug]/" icon="ğŸ“" depth={3}>
          <FileTreeItem name="page.tsx" icon="ğŸ“„" depth={4} />
        </FileTreeItem>
        <FileTreeItem name="layout.tsx" icon="ğŸ“„" depth={3} />
      </FileTreeItem>
      <FileTreeItem name="api/search/" icon="ğŸ“" depth={2} />
      <FileTreeItem name="page.tsx" icon="ğŸ“„" depth={2} />
    </FileTreeItem>
    <FileTreeItem name="content/docs/" icon="ğŸ“" depth={1}>
      <FileTreeItem name="index.mdx" icon="ğŸ“„" depth={2} />
      <FileTreeItem name="architecture/" icon="ğŸ“" depth={2} />
      <FileTreeItem name="packages/" icon="ğŸ“" depth={2} />
      <FileTreeItem name="guides/" icon="ğŸ“" depth={2} />
    </FileTreeItem>
    <FileTreeItem name="components/" icon="ğŸ“" depth={1} />
    <FileTreeItem name="lib/" icon="ğŸ“" depth={1} />
  </FileTreeItem>
</FileTree>

**Port:** 3002

## Packages (`packages/`)

Shared code used across multiple applications.

### API Package (`packages/api/`)

Appwrite client wrappers and utilities.

```
packages/api/
â”œâ”€â”€ client.ts          # Client-side API (browser)
â”œâ”€â”€ server.ts          # Server-side API (Node.js)
â”œâ”€â”€ storage.ts         # Storage utilities
â”œâ”€â”€ index.ts           # Main exports
â”œâ”€â”€ types/             # TypeScript type definitions
â”‚   â””â”€â”€ appwrite.ts
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

**Usage:**
```typescript
// Server-side
import { createSessionClient } from '@repo/api/server';

// Client-side
import { Client, Account } from '@repo/api/client';

// Storage helpers
import { getStorageFileUrl } from '@repo/api';
```

### UI Package (`packages/ui/`)

Shared React components based on shadcn/ui.

```
packages/ui/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/           # shadcn/ui components
â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”œâ”€â”€ input.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ patterns/     # Composite patterns
â”‚   â””â”€â”€ theme-provider.tsx
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ utils.ts      # Utility functions (cn, etc.)
â”‚   â”œâ”€â”€ fonts.ts      # Font definitions
â”‚   â””â”€â”€ tokens.ts     # Design tokens
â”œâ”€â”€ styles/
â”‚   â””â”€â”€ globals.css   # Global styles
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ use-mobile.ts
â””â”€â”€ package.json
```

**Usage:**
```typescript
import { Button } from '@repo/ui/components/ui/button';
import { ThemeProvider } from '@repo/ui/components/theme-provider';
```

### Editor Package (`packages/editor/`)

Puck editor configuration for visual page building.

```
packages/editor/
â”œâ”€â”€ components/       # Custom Puck components
â”‚   â”œâ”€â”€ button.tsx
â”‚   â”œâ”€â”€ heading.tsx
â”‚   â”œâ”€â”€ section.tsx
â”‚   â””â”€â”€ text.tsx
â”œâ”€â”€ editor.tsx        # Editor component
â”œâ”€â”€ renderer.tsx      # Render engine
â”œâ”€â”€ page-builder-config.tsx  # Puck configuration
â”œâ”€â”€ types.ts          # TypeScript types
â””â”€â”€ package.json
```

<Callout type="note" title="Work in Progress">
  The editor package is actively being developed. Future versions will support more components and advanced features.
</Callout>

### Payment Package (`packages/payment/`)

Payment provider integrations (currently Vipps).

```
packages/payment/
â”œâ”€â”€ vipps.ts          # Core Vipps logic (framework-agnostic)
â”œâ”€â”€ actions.ts        # Server actions for Next.js
â”œâ”€â”€ types/            # TypeScript types
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

**Key Feature:** Framework-agnostic with dependency injection pattern.

**Usage:**
```typescript
// In Next.js Server Actions
import { initiateVippsCheckout } from '@repo/payment/actions';

// Direct usage (pass db manually)
import { createCheckoutSession } from '@repo/payment/vipps';
```

### Configuration Packages

#### ESLint Config (`packages/eslint-config/`)

```
packages/eslint-config/
â”œâ”€â”€ base.js           # Base ESLint rules
â”œâ”€â”€ next.js           # Next.js-specific rules
â”œâ”€â”€ react-internal.js # React component rules
â””â”€â”€ package.json
```

#### TypeScript Config (`packages/typescript-config/`)

```
packages/typescript-config/
â”œâ”€â”€ base.json         # Base TypeScript config
â”œâ”€â”€ nextjs.json       # Next.js-specific config
â”œâ”€â”€ react-library.json # React library config
â””â”€â”€ package.json
```

## App-Level Structure

### Typical Next.js App Structure

Each Next.js app follows this pattern:

```
app/
â”œâ”€â”€ (route-groups)/   # Grouped routes (shared layouts)
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â””â”€â”€ page.tsx
â”œâ”€â”€ actions/          # Server Actions
â”‚   â””â”€â”€ feature.ts
â”œâ”€â”€ api/              # API Routes
â”‚   â””â”€â”€ route/
â”‚       â””â”€â”€ route.ts
â”œâ”€â”€ layout.tsx        # Root layout
â”œâ”€â”€ page.tsx          # Home page
â”œâ”€â”€ globals.css       # Global styles
â””â”€â”€ fonts.ts          # Font definitions
```

### Component Organization

Components are organized by type:

```
components/
â”œâ”€â”€ ui/              # Generic UI components
â”œâ”€â”€ features/        # Feature-specific components
â”œâ”€â”€ layouts/         # Layout components
â”œâ”€â”€ forms/           # Form components
â””â”€â”€ shared/          # Shared across features
```

### Library Code

```
lib/
â”œâ”€â”€ utils.ts         # Generic utilities
â”œâ”€â”€ constants.ts     # App constants
â”œâ”€â”€ types.ts         # Type definitions
â”œâ”€â”€ api/             # API wrappers
â””â”€â”€ hooks/           # Custom React hooks
```

## Naming Conventions

### Files

| Type | Convention | Examples |
|------|------------|----------|
| Components | PascalCase | `Button.tsx`, `UserProfile.tsx` |
| Utilities | kebab-case | `format-date.ts`, `api-client.ts` |
| Routes | kebab-case | `user-profile/`, `about-us/` |
| Constants | UPPERCASE | `CONSTANTS.ts`, `API_ENDPOINTS.ts` |

### Directories

| Type | Convention | Examples |
|------|------------|----------|
| Route Groups | (parentheses) | `(auth)/`, `(admin)/` |
| Features | kebab-case | `user-profile/`, `payment-flow/` |
| Components | PascalCase folders OK | `Button/`, `components/` |

### Code

```typescript
// Components: PascalCase
export function UserProfile() {}
export const Button = () => {}

// Functions: camelCase
export function formatDate() {}
export const getUserData = () => {}

// Constants: UPPER_SNAKE_CASE
export const API_ENDPOINT = '/api';
export const MAX_ITEMS = 100;

// Types/Interfaces: PascalCase
export type User = {};
export interface ButtonProps {}
```

## Special Directories

### Route Groups `(name)/`

Route groups organize routes without affecting the URL:

```
app/
â”œâ”€â”€ (auth)/           # Auth routes, won't show "(auth)" in URL
â”‚   â”œâ”€â”€ login/
â”‚   â””â”€â”€ register/
â”œâ”€â”€ (admin)/          # Admin routes
â”‚   â””â”€â”€ dashboard/
â””â”€â”€ (public)/         # Public routes
    â””â”€â”€ about/
```

URL: `/login`, `/dashboard`, `/about` (group names not in URL)

### Private Folders `_name/`

Folders starting with `_` are private and excluded from routing:

```
app/
â”œâ”€â”€ _components/      # Private components
â”œâ”€â”€ _lib/            # Private utilities
â””â”€â”€ page.tsx         # Public route
```

### API Routes

```
app/api/
â”œâ”€â”€ users/
â”‚   â””â”€â”€ route.ts     # GET/POST /api/users
â”œâ”€â”€ posts/
â”‚   â””â”€â”€ [id]/
â”‚       â””â”€â”€ route.ts # GET/PUT /api/posts/[id]
```

## Import Paths

### Absolute Imports

TypeScript is configured for absolute imports:

```typescript
// âœ… Good: Absolute from src
import { Button } from 'components/ui/button';
import { formatDate } from '@/lib/utils';

// âŒ Avoid: Relative imports that are deep
import { Button } from '../../../components/ui/button';
```

### Package Imports

```typescript
// Import from packages
import { Button } from '@repo/ui/components/ui/button';
import { createSessionClient } from '@repo/api/server';
import { initiateVippsCheckout } from '@repo/payment/actions';
```

## Configuration Files per App

Each app has these config files:

```
app/
â”œâ”€â”€ next.config.ts        # Next.js configuration
â”œâ”€â”€ tsconfig.json         # TypeScript config (extends base)
â”œâ”€â”€ tailwind.config.cjs   # Tailwind CSS config
â”œâ”€â”€ postcss.config.js     # PostCSS config
â”œâ”€â”€ eslint.config.js      # ESLint config
â””â”€â”€ package.json          # App dependencies & scripts
```

## Environment Files

```
app/
â”œâ”€â”€ .env.local            # Local environment (gitignored)
â”œâ”€â”€ .env.example          # Example environment variables
â”œâ”€â”€ .env.development      # Development defaults (optional)
â””â”€â”€ .env.production       # Production defaults (optional)
```

<Callout type="warning" title="Environment Variables">
  Only `.env.local` is gitignored. Never commit secrets! Always use `.env.example` for documentation.
</Callout>

## Static Assets

```
public/
â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ hero/
â”‚   â””â”€â”€ logos/
â”œâ”€â”€ fonts/
â”œâ”€â”€ icons/
â””â”€â”€ favicon.ico
```

**Access in code:**
```tsx
<Image src="/images/logo.png" alt="Logo" />
```

## i18n Structure

Translation files for internationalization:

```
messages/
â”œâ”€â”€ en/
â”‚   â”œâ”€â”€ common.json
â”‚   â”œâ”€â”€ home.json
â”‚   â””â”€â”€ about.json
â”œâ”€â”€ no/
â”‚   â”œâ”€â”€ common.json
â”‚   â”œâ”€â”€ home.json
â”‚   â””â”€â”€ about.json
â”œâ”€â”€ en.ts             # English exports
â””â”€â”€ no.ts             # Norwegian exports
```

## Build Outputs

Build artifacts (gitignored):

```
app/
â”œâ”€â”€ .next/            # Next.js build output
â”œâ”€â”€ dist/             # Package build output
â”œâ”€â”€ node_modules/     # Dependencies
â””â”€â”€ .turbo/           # Turborepo cache
```

## Key Takeaways

1. **Monorepo** structure enables code sharing and consistency
2. **Apps** are standalone Next.js applications
3. **Packages** contain shared code used by multiple apps
4. **Turborepo** manages the build pipeline and caching
5. **Conventions** ensure consistency across the codebase

<Callout type="info" title="Next Steps">
  Now that you understand the structure, learn about the [Architecture](/docs/architecture/overview) or dive into [Development Workflow](/docs/guides/development-workflow).
</Callout>

